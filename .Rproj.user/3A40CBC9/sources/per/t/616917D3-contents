
#Trabajo 03: R para Análisis Estadístico

#Asociación de variables y construcción de índices



#Antecedentes - Simce 2017
#Simce es parte de las evaluaciones que se aplican en Chile, definidas en el Plan de Evaluaciones Nacionales e Internacionales, 
#y corresponde a una medición estandarizada anual a todas y todos los estudiantes del país que cursan los niveles evaluados. (Para los fines de esta
#investigación, se tomarán los resultados de los estudiantes de 2° medio en 2017).
#Su objetivo es conocer los resultados educativos de los establecimientos, evaluando el logro de los contenidos y habilidades del Currículum Nacional,
#con pruebas en diferentes asignaturas o áreas de aprendizaje; y recogiendo información sobre el contexto educativo a través de cuestionarios que 
#responden directores(as), docentes, estudiantes, padres, madres y apoderados, de modo de analizar los resultados en forma integral.



#1. Librerías a utilizar

pacman::p_load(dplyr, 
               sjmisc, 
               car, 
               sjlabelled, 
               stargazer, 
               haven,
               kableExtra,
               sjPlot,
               summarytools,
               ggplot2)

rm(list=ls())       
options(scipen=999)

#2. Carga de la base de datos

#Para el trabajo 02 se realizó la preparación de los datos y se generaron 2 bases de datos (la 1ra incluye los casos NA y la 2da no) simce2m2017_total.RData y simce2m2017_final.Rdata, 
#en ambas se trabajó con las siguientes variables:


#VARIABLE 1:"cod_depe2" = Código de dependencia 3 categorías (Municipal(1); Particular subvencionado(2); Particular pagado(3))

#VARIABLE 2: "cod_grupo" = Código de grupo socioeconómico (Bajo(1);Medio bajo(2);Medio(3);Medio alto(4);Alto(5))

#VARIABLE 3: "cdm_2017" = Categoría de Desempeño 2017 (INSUFICIENTE, MEDIO-BAJO, MEDIO Y ALTO)
 # Los establecimientos que tengan valores del Índice Final hasta el valor del percentil 12 (inclusive) de la distribución de este índice se clasificarán en la categoría Desempeño Insuficiente.
 # Los establecimientos que presenten valores del Índice Final por sobre el valor del percentil 12 y hasta el percentil 35 (inclusive) se clasificarán en la categoría Desempeño Medio-Bajo.
 # Los establecimientos que se sitúen por sobre el valor del percentil 35 y hasta el percentil 85 (inclusive) de la distribución del índice Final se clasificarán en la categoría Desempeño Medio.
 # Los establecimientos con valores del Índice Final superiores al valor del percentil 85 de la distribución de este índice se clasificarán en la categoría Desempeño Alto.

#Para ver si podemos hacer el análisis con casos completos revisamos que los NA no sean más del 10%

load("~/Universidad/UAH 5° Semestre/OFC R para análisis estadístico/Trabajos/input/data-proc/simce2m2017_total.RData")
load("~/Universidad/UAH 5° Semestre/OFC R para análisis estadístico/Trabajos/input/data-proc/simce2m2017_final.RData")

dim(simce2m2017_total)
dim(simce2m2017_final)
 
2876-2765

111/2876*100

#Ya que sólo el 3.859527% del total son casos perdidos no supone problemas trabajar con la base simce2m2017_final.RData, pd: la preparación y tratamiento de 
#los casos perdidos con "listwise deletion" se encuentra en entre las líneas 203 - 215 y 260 - 276 del Script "Procesamiento(2)" del Trabajo 2

load("~/Universidad/UAH 5° Semestre/OFC R para análisis estadístico/Trabajos/input/data-proc/simce2m2017_final.RData")
dim(simce2m2017_final)
freq(simce2m2017_final)

# Suponiendo que 'datos' es tu conjunto de datos y 'variable_factor' es la variable categórica a convertir
datos$numerica <- as.numeric(factor(datos$variable_factor, levels = c("Categoría1", "Categoría2", "Categoría3")))

#P

#Parte 2

#Matrices de correlación


































































































































































































































































































































